{% extends 'base.html' %} {% block head %} <title>About Us - Reeliz ðŸŽ¬</title>
<link
  rel="stylesheet"
  href="{{ url_for( 'static', filename='styles/detail.css')}}"
/>
{% endblock %} {% block body %}
<div class="movie-detail">
  <div class="poster">
    <img
      src="https://image.tmdb.org/t/p/w500{{ movie.poster_path }}"
      alt="{{ movie.title }}"
    />
  </div>
  <div class="info">
    <h1>{{ movie.title }}</h1>
    <p><strong>Release Date:</strong> {{ movie.release_date }}</p>
    <p><strong>Runtime:</strong> {{ movie.runtime }} mins</p>
    <p>
      <strong>Genres:</strong> {% for genre in movie.genres %} {{ genre.name
      }}{% if not loop.last %}, {% endif %} {% endfor %}
    </p>
    <p>{{ movie.overview }}</p>
  </div>
</div>

<div class="schedule">
  <h3>Select Date & Time</h3>
  <div class="date-strip" id="date-strip">
    <!-- Dates will be generated by JS -->
  </div>

  <div class="time-select">
    <label for="showtime">Preferred Time:</label>
    <select id="showtime">
      <option>10:00 AM</option>
      <option>1:00 PM</option>
      <option>4:00 PM</option>
      <option>7:00 PM</option>
    </select>
  </div>
</div>


<div class="seating">
<div class="legend">
  <div><span class="legend-seat vacant"></span> Vacant</div>
  <div><span class="legend-seat occupied"></span> Occupied</div>
  <div><span class="legend-seat selected"></span> Selected</div>
</div>


  <h2>Choose Your Seat</h2>
  <div class="screen">SCREEN</div>

  

  <div class="seats">
    {% for row in range(8) %}
      <div class="row">
        <div class="side">
          <button class="seat vacant"></button>
          <button class="seat vacant"></button>
        </div>
        <div class="middle">
          <button class="seat vacant"></button>
          <button class="seat vacant"></button>
          <button class="seat vacant"></button>
          <button class="seat vacant"></button>
        </div>
        <div class="side">
          <button class="seat vacant"></button>
          <button class="seat vacant"></button>
        </div>
      </div>
    {% endfor %}
  </div>
</div>

<script>

  function generateDates() {
    const dateStrip = document.getElementById("date-strip");
    const today = new Date();

    for (let i = 0; i < 7; i++) {
      const date = new Date();
      date.setDate(today.getDate() + i);

      const month = date.toLocaleString("default", { month: "short" });
      const day = date.toLocaleString("default", { weekday: "short" });
      const num = date.getDate();

      const div = document.createElement("div");
      div.classList.add("date-pill");
      if (i === 0) div.classList.add("selected"); // default today

      div.innerHTML = `
        <div class="date-month">${month}</div>
        <div class="date-num">${num}</div>
        <div class="date-day">${day}</div>
      `;

      div.addEventListener("click", () => {
        document.querySelectorAll(".date-pill").forEach(d => d.classList.remove("selected"));
        div.classList.add("selected");
      });

      dateStrip.appendChild(div);
    }
  }

  document.addEventListener("DOMContentLoaded", generateDates);

  document.querySelectorAll(".seat").forEach(seat => {
    seat.addEventListener("click", () => {
      if (seat.classList.contains("occupied")) return; // ðŸš« skip if occupied
      seat.classList.toggle("selected");
      seat.classList.toggle("vacant");
    });
  });
</script>

{% endblock %}