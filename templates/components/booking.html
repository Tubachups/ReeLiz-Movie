<!-- Booking Section -->
<section class="booking-section py-5">
  <div class="container">
    <div class="row g-4 align-items-start">
      <!-- LEFT: Schedule + Ticket Summary -->
      <div div class="col-12 col-lg-4">
        <!-- Schedule Section (Integrated) -->
        <div>
          <h3 class="mb-4" style="text-align: center">Select Date & Time</h3>
          <div class="date-strip mb-4 p-0" id="date-strip">
            <!-- Dates will be generated by JS -->
          </div>
          <div class="time-select">
            <label for="showtime" class="form-label">Preferred Time:</label>
            <select id="showtime" class="form-select">
              <option>10:00 AM</option>
              <option>1:00 PM</option>
              <option>4:00 PM</option>
              <option>7:00 PM</option>
            </select>
          </div>
        </div>

        <!-- Ticket Summary Panel -->
        <div class="ticketing bg-body-tertiary rounded-4 p-4 shadow sticky-lg-top">
          <h2 class="h4 mb-4">Selected Seats:</h2>
          <div class="ticket-info">
            <p>Number of Seats: <span id="seat-count">0</span></p>
            <p id="selected-seats">None</p>
            <h3 class="h5 mt-4">Movie Tickets</h3>
            <p>
              Date and Time: <span id="selected-date-time">Not selected</span>
            </p>
            <p>Quantity: <span id="seat-quantity">0</span></p>
          </div>
          <!-- New Panel -->
          <div class="ticket-panel mt-4 pt-3 border-top">
            <p class="mb-3">
              <strong>Tickets:</strong> <span id="seat-quantity-panel">0</span>
            </p>
            <p class="h5 mb-4">
              <strong>Total Price:</strong> â‚±<span id="total-cost-panel"
                >0</span
              >
            </p>
            <div id="PaymentBtn" class="d-flex gap-2">
            <button id="ProceedBtn" class="btn btn-primary flex-grow-1" disabled>
              Proceed to Payment
            </button>


          <button id="CancelBtn" class="btn btn-outline-secondary flex-grow-1 nav-link border border-dark" 
                  data-page="now">
            Cancel
          </button>
            </div>
          </div>
        </div>
      </div>

      <div class="col-12 col-lg-8">
        <div class="seating text-center">
          <!-- Legend stays outside carousel -->
           <h4 class="mb-4">Choose Your Seats</h4>
          <div
            class="legend d-flex flex-wrap justify-content-center gap-4 mb-4">
            <div class="d-flex align-items-center">
              <span class="legend-seat p-3 rounded vacant me-2"></span> Vacant
            </div>
            <div class="d-flex align-items-center">
              <span class="legend-seat p-3 rounded occupied me-2"></span>
              Occupied
            </div>
            <div class="d-flex align-items-center">
              <span class="legend-seat p-3 rounded selected me-2"></span>
              Selected
            </div>
          </div>

          <!-- Cinema Carousel -->
          <div id="cinemaCarousel" class="carousel slide" data-bs-ride="false">
            <div class="carousel-indicators">
              <button type="button" data-bs-target="#cinemaCarousel" data-bs-slide-to="0" class="active" aria-current="true" aria-label="Cinema 1"></button>
              <button type="button" data-bs-target="#cinemaCarousel" data-bs-slide-to="1" aria-label="Cinema 2"></button>
            </div>

            <div class="carousel-inner">
              <!-- Cinema 1 -->
              <div class="carousel-item active">
                <h2 class="mb-4">Cinema 1</h2>
                <div class="screen mb-4">SCREEN</div>

                <!-- Scrollable wrapper for seats -->
                <div class="seat-layout-wrapper">
                  <div class="seat-layout">
                    {% set letters = ["A","B","C","D","E","F","G","H"] %} 
                    {% for row in range(8) %}
                    <div class="seat-row mb-2 g-2">
                      <!-- Left side seats -->
                      <div class="col-auto d-flex gap-2">
                        {% for col in range(1,3) %}
                        <button class="btn seat vacant" data-cinema="1">
                          {{ letters[row] }}{{ col }}
                        </button>
                        {% endfor %}
                      </div>
                      <!-- Middle seats -->
                      <div class="col-auto d-flex gap-2">
                        {% for col in range(3,7) %}
                        <button class="btn seat vacant" data-cinema="1">
                          {{ letters[row] }}{{ col }}
                        </button>
                        {% endfor %}
                      </div>
                      <!-- Right side seats -->
                      <div class="col-auto d-flex gap-2">
                        {% for col in range(7,9) %}
                        <button class="btn seat vacant" data-cinema="1">
                          {{ letters[row] }}{{ col }}
                        </button>
                        {% endfor %}
                      </div>
                    </div>
                    {% endfor %}
                  </div>
                </div>
              </div>

              <!-- Cinema 2 -->
              <div class="carousel-item">
                <h2 class="mb-4">Cinema 2</h2>
                <div class="screen mb-4">SCREEN</div>

                <!-- Scrollable wrapper for seats -->
                <div class="seat-layout-wrapper">
                  <div class="seat-layout">
                    {% set letters = ["A","B","C","D","E","F","G","H"] %} 
                    {% for row in range(8) %}
                    <div class="seat-row mb-2 g-2">
                      <!-- Left side seats -->
                      <div class="col-auto d-flex gap-2">
                        {% for col in range(1,3) %}
                        <button class="btn seat vacant" data-cinema="2">
                          {{ letters[row] }}{{ col }}
                        </button>
                        {% endfor %}
                      </div>
                      <!-- Middle seats -->
                      <div class="col-auto d-flex gap-2">
                        {% for col in range(3,7) %}
                        <button class="btn seat vacant" data-cinema="2">
                          {{ letters[row] }}{{ col }}
                        </button>
                        {% endfor %}
                      </div>
                      <!-- Right side seats -->
                      <div class="col-auto d-flex gap-2">
                        {% for col in range(7,9) %}
                        <button class="btn seat vacant" data-cinema="2">
                          {{ letters[row] }}{{ col }}
                        </button>
                        {% endfor %}
                      </div>
                    </div>
                    {% endfor %}
                  </div>
                </div>
              </div>
            </div>

            <!-- Carousel Controls -->
            <button class="carousel-control-prev" type="button" data-bs-target="#cinemaCarousel" data-bs-slide="prev">
              <span class="carousel-control-prev-icon" aria-hidden="true"></span>
              <span class="visually-hidden">Previous</span>
            </button>
            <button class="carousel-control-next" type="button" data-bs-target="#cinemaCarousel" data-bs-slide="next">
              <span class="carousel-control-next-icon" aria-hidden="true"></span>
              <span class="visually-hidden">Next</span>
            </button>
          </div>
          <!-- End Cinema Carousel -->
        </div>
      </div>
      
    </div>
  </div>
</section>